<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ Ø³Ø§Ø®Øª Ú©Ø§Ù†ÙÛŒÚ¯ WireGuard Ùˆ DNS</title>
<style>
    body {
        background-color: #FFA500;
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
        color: #000;
        font-size: 18px;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .tabs {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    .tab {
        margin: 0 10px;
        padding: 10px 20px;
        cursor: pointer;
        border-radius: 5px;
        background-color: rgba(255, 140, 0, 0.8);
        color: #000;
        font-weight: bold;
        transition: background-color 0.3s ease;
    }

    .tab:hover {
        background-color: rgba(255, 69, 0, 1);
    }

    .tab.active {
        background-color: rgba(255, 165, 0, 1);
    }

    .container {
        background: rgba(255, 165, 0, 0.8);
        padding: 20px;
        border-radius: 10px;
        display: inline-block;
    }

    button {
        margin: 10px;
        padding: 12px 24px;
        font-size: 18px;
        cursor: pointer;
        color: #000;
        border: 2px solid #000;
        background: rgba(255, 140, 0, 0.8);
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: rgba(255, 69, 0, 1);
    }

    h1 {
        font-size: 32px;
        color: #000;
        margin-bottom: 20px;
    }

    label, input, select {
        font-size: 18px;
        margin: 8px 0;
        color: #000;
    }

    input, select, textarea {
        padding: 10px;
        width: 300px;
        margin: 5px 0;
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.1);
        color: #000;
    }

    textarea {
        height: 150px;
    }

    .channels {
        margin-top: 30px;
    }

    #copyMessage {
        display: none;
        color: green;
    }
</style>
</head>
<body>

<div class="tabs">
    <div class="tab active" id="wireguardTab">Ù¾Ù†Ù„ WireGuard</div>
    <div class="tab" id="dnsTab">Ù¾Ù†Ù„ DNS</div>
</div>

<div class="container" id="wireguardPanel">
    <h1>ØªÙˆÙ„ÛŒØ¯ Ú©Ù†Ù†Ø¯Ù‡ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ WireGuard</h1>
    <textarea id="configText" readonly placeholder="Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ WireGuard Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒ Ø´ÙˆØ¯"></textarea>

    <br>
    <label for="country">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø´ÙˆØ±:</label><br>
    <select id="country">
        <option value="emirates">ğŸ‡¦ğŸ‡ªEmirates</option>
        <option value="turkey">ğŸ‡¹ğŸ‡·Turkey</option>
        <option value="qatar">ğŸ‡¶ğŸ‡¦Qatar</option>
        <option value="germany">ğŸ‡©ğŸ‡ªGermany</option>
        <option value="france">ğŸ‡«ğŸ‡·France</option>
        <option value="usa">ğŸ‡ºğŸ‡¸ USA</option>
        <option value="canada">ğŸ‡¨ğŸ‡¦Canada</option>
        <option value="uk">ğŸ‡¬ğŸ‡§UK</option>
        <option value="iran">ğŸ‡®ğŸ‡· Iran</option>
        <option value="saudi_arabia">ğŸ‡¸ğŸ‡¦Saudi Arabia</option>
        <option value="japan">ğŸ‡¯ğŸ‡µ Japan</option>
        <option value="china">ğŸ‡¨ğŸ‡³China</option>
        <option value="pakistan">ğŸ‡µğŸ‡°Pakistan</option>
        <option value="russia">ğŸ‡·ğŸ‡ºRussia</option>
    </select>

    <br>
    <label for="ip_version">Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø³Ø®Ù‡ Ø¢ÛŒâ€ŒÙ¾ÛŒ:</label><br>
    <select id="ip_version">
        <option value="ipv4">ipv4</option>
        <option value="ipv6">ipv6</option>
        <option value="both" selected>ipv4 Ùˆ ipv6</option>
    </select>

    <label for="configName">Ù†Ø§Ù… ÙØ§ÛŒÙ„ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ:</label><br>
    <input id="configName" type="text" placeholder="" 
    value="">

    <br>
    <label for="sim_card">Ø§Ù†ØªØ®Ø§Ø¨ Ø³ÛŒÙ… Ú©Ø§Ø±Øª:</label><br>
    <select id="sim_card">
        <option value="hmrah_eol" selected>Ù‡Ù…Ø±Ø§Ù‡ Ø§ÙˆÙ„</option>
        <option value="Irancell">Ø§ÛŒØ±Ø§Ù†Ø³Ù„</option>
    </select>

    <br>
    <button id="generateButton">ØªÙˆÙ„ÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ</button>

    <!-- Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„ -->
    <button id="saveButton">Ø°Ø®ÛŒØ±Ù‡ Ø¨Ù‡ ÙØ§ÛŒÙ„</button>

</div>

<div class="container" id="dnsPanel" style="display:none;">
    <h1>Ù¾Ù†Ù„ DNS Ú©Ø´ÙˆØ±Ù‡Ø§</h1>
    <label for="dnsCountry">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø´ÙˆØ±:</label><br>
    <select id="dnsCountry">
        <option value="emirates">ğŸ‡¦ğŸ‡ªEmirates</option>
        <option value="turkey">ğŸ‡¹ğŸ‡·Turkey</option>
        <option value="qatar">ğŸ‡¶ğŸ‡¦Qatar</option>
        <option value="germany">ğŸ‡©ğŸ‡ªGermany</option>
        <option value="france">ğŸ‡«ğŸ‡·France</option>
        <option value="usa">ğŸ‡ºğŸ‡¸ USA</option>
        <option value="canada">ğŸ‡¨ğŸ‡¦Canada</option>
        <option value="uk">ğŸ‡¬ğŸ‡§UK</option>
        <option value="iran">ğŸ‡®ğŸ‡· Iran</option>
        <option value="saudi_arabia">ğŸ‡¸ğŸ‡¦Saudi Arabia</option>
        <option value="japan">ğŸ‡¯ğŸ‡µ Japan</option>
        <option value="china">ğŸ‡¨ğŸ‡³China</option>
        <option value="pakistan">ğŸ‡µğŸ‡°Pakistan</option>
        <option value="russia">ğŸ‡·ğŸ‡ºRussia</option>
    </select>

    <br>
    <label for="dnsIpVersion">Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø³Ø®Ù‡ Ø¢ÛŒâ€ŒÙ¾ÛŒ:</label><br>
    <select id="dnsIpVersion">
        <option value="ipv4">IPv4</option>
        <option value="ipv6">IPv6</option>
        <option value="both">IPv4 Ùˆ IPv6</option>
    </select>

    <br>
    <button id="generateDNSButton">Ù†Ù…Ø§ÛŒØ´ DNS Ú©Ø´ÙˆØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ</button>

    <textarea id="dnsText" readonly placeholder="DNS Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø´ÙˆØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯"></textarea>

    <button id="copyDNSButton">Ú©Ù¾ÛŒ DNS</button>
    <div id="copyMessage"></div>
</div>

<div class="channels">
    <p><b>Ú©Ø§Ù†Ø§Ù„ Ù‡Ø§ÛŒ Ù…Ø§</b></p>
    <p>Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù…ÛŒ Ù…Ø§: <a href="https://t.me/asrnovin_ir" target="_blank">ASRNOVIN_IR</a></p>
    <p>Ú©Ø§Ù†Ø§Ù„ ÛŒÙˆØªÛŒÙˆØ¨ Ù…Ø§: <a href="https://www.youtube.com/@aminiyt1" target="_blank">@AminiYt1</a></p>
    <p>Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ù…Ø§: <a href="https://instagram.com/aminiyt1" target="_blank">Aminiyt1</a></p>
</div>

<script>
    // Ù…Ø¯ÛŒØ±ÛŒØª ØªØ¨â€ŒÙ‡Ø§
    document.getElementById("wireguardTab").addEventListener("click", function () {
        document.getElementById("wireguardPanel").style.display = "block";
        document.getElementById("dnsPanel").style.display = "none";
        this.classList.add("active");
        document.getElementById("dnsTab").classList.remove("active");
    });

    document.getElementById("dnsTab").addEventListener("click", function () {
        document.getElementById("wireguardPanel").style.display = "none";
        document.getElementById("dnsPanel").style.display = "block";
        this.classList.add("active");
        document.getElementById("wireguardTab").classList.remove("active");
    });

    // ØªÙˆÙ„ÛŒØ¯ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ WireGuard Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Crypto API
    function generateWireguardKeys() {
        function getRandomKey() {
            const array = new Uint8Array(32);
            window.crypto.getRandomValues(array);
            let binary = "";
            array.forEach(byte => {
                binary += String.fromCharCode(byte);
            });
            return btoa(binary);
        }

        return {
            privateKey: getRandomKey(),
            publicKey: getRandomKey(),
            preSharedKey: getRandomKey()
        };
    }

    // ØªØ§Ø¨Ø¹ ØªÙˆÙ„ÛŒØ¯ Ø¹Ø¯Ø¯ ØªØµØ§Ø¯ÙÛŒ
    function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // Ù†Ù‚Ø´Ù‡ Ù¾ÛŒØ´ÙˆÙ†Ø¯Ù‡Ø§ÛŒ IPv4 Ùˆ IPv6 Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©Ø´ÙˆØ±
    const ipv4Prefixes = {
        "emirates": "217.199.",
        "turkey": "78.189.",
        "qatar": "37.205.",
        "germany": "185.21.",
        "france": "51.75.",
        "usa": "104.27.",
        "canada": "192.99.",
        "uk": "185.128.",
        "iran": "5.160.",
        "saudi_arabia": "94.74.",
        "japan": "133.242.",
        "china": "116.31.",
        "pakistan": "103.255.",
        "russia": "95.213."
    };

    const ipv6Prefixes = {
        "emirates": "2a01:4f8:1c1c::",
        "turkey": "2a01:4f8:1c1c::",
        "qatar": "2a01:4f8:1c1c::",
        "germany": "2a01:4f8:1c1c::",
        "france": "2a01:4f8:1c1c::",
        "usa": "2600:3c01::",
        "canada": "2600:3c01::",
        "uk": "2a00:1098::",
        "iran": "2a01:4f8:1c1c::",
        "saudi_arabia": "2a01:4f8:1c1c::",
        "japan": "2400:8500::",
        "china": "2400:8500::",
        "pakistan": "2400:8500::",
        "russia": "2a01:4f8:1c1c::"
    };

    // ØªÙˆÙ„ÛŒØ¯ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ IPv4
    function generateRandomIPv4(prefix) {
        return prefix + randomInt(0, 255) + "." + randomInt(0, 255);
    }

    // ØªÙˆÙ„ÛŒØ¯ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ IPv6
    function generateRandomIPv6(prefix) {
        function randHex() {
            return randomInt(0, 65535).toString(16);
        }

        return prefix + randHex() + ":" + randHex() + ":" + randHex();
    }

    // ØªØ§Ø¨Ø¹ ØªÙˆÙ„ÛŒØ¯ DNS Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³ÛŒÙ… Ú©Ø§Ø±Øª
    function generateDNSServers(sim_card) {
        if (sim_card === "hmrah_eol") return "10.202.10.10";
        else if (sim_card === "Irancell") return "78.157.42.100";
        else return "";
    }

    // ØªÙˆÙ„ÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ WireGuard
    function generateWireguardConfig(country, ip_version, sim_card) {
        const keys = generateWireguardKeys();

        const ipv4_prefix = ipv4Prefixes[country];
        const ipv6_prefix = ipv6Prefixes[country];

        if (!ipv4_prefix && ip_version !== "ipv6") {
            alert("Ú©Ø´ÙˆØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ø¨Ø±Ø§ÛŒ IPv4 Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.");
            return "";
        }

        if (!ipv6_prefix && ip_version !== "ipv4") {
            alert("Ú©Ø´ÙˆØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ø¨Ø±Ø§ÛŒ IPv6 Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.");
            return "";
        }

        let ipv4_address = "";
        let ipv6_address = "";

        if (ip_version !== "ipv6") {
            ipv4_address = generateRandomIPv4(ipv4_prefix);
        }
        if (ip_version !== "ipv4") {
            ipv6_address = generateRandomIPv6(ipv6_prefix);
        }

        const endpoint = generateRandomIPv4(ipv4_prefix) + ":51820";

        const dns_servers = generateDNSServers(sim_card);

        let address = "";
        if (ip_version === "ipv4") {
            address = ipv4_address + "/24";
        } else if (ip_version === "ipv6") {
            address = ipv6_address + "/64";
        } else if (ip_version === "both") {
            address = ipv4_address + "/24, " + ipv6_address + "/64";
        }

        const config =
            `# Configuration

[Interface]
PrivateKey = ${keys.privateKey}
Address = ${address}
DNS = ${dns_servers}
MTU = 1280
ListenPort = 51820

[Peer]
PublicKey = ${keys.publicKey}
PresharedKey = ${keys.preSharedKey}
Endpoint = ${endpoint}
`;
        return config;
    }

    // Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªÙˆÙ„ÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ
    document.getElementById("generateButton").addEventListener("click", function () {
        const country = document.getElementById("country").value;
        const ip_version = document.getElementById("ip_version").value;
        const sim_card = document.getElementById("sim_card").value;
        const configName = document.getElementById("configName").value;

        const config = generateWireguardConfig(country, ip_version, sim_card);
        if (!config) return;

        document.getElementById("configText").value = config;

        let blob = new Blob([config], { type: "text/plain" });
        let link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = `${configName}.conf`;
        link.click();
    });

    // ØªÙˆÙ„ÛŒØ¯ DNS Ø±Ù†Ø¯ÙˆÙ… Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©Ø´ÙˆØ±
    function generateRandomDNS(country, ip_version) {
        const ipv4Prefix = {
            "emirates": "217.199.",
            "turkey": "78.189.",
            "qatar": "37.205.",
            "germany": "185.21.",
            "france": "51.75.",
            "usa": "104.27.",
            "canada": "192.99.",
            "uk": "185.128.",
            "iran": "5.160.",
            "saudi_arabia": "94.74.",
            "japan": "133.242.",
            "china": "116.31.",
            "pakistan": "103.255.",
            "russia": "95.213."
        };

        const ipv6Prefix = {
            "emirates": "2a01:4f8:1c1c::",
            "turkey": "2a01:4f8:1c1c::",
            "qatar": "2a01:4f8:1c1c::",
            "germany": "2a01:4f8:1c1c::",
            "france": "2a01:4f8:1c1c::",
            "usa": "2600:3c01::",
            "canada": "2600:3c01::",
            "uk": "2a00:1098::",
            "iran": "2a01:4f8:1c1c::",
            "saudi_arabia": "2a01:4f8:1c1c::",
            "japan": "2400:8500::",
            "china": "2400:8500::",
            "pakistan": "2400:8500::",
            "russia": "2a01:4f8:1c1c::"
        };

        function generateRandomIPv4(prefix) {
            return prefix + randomInt(0, 255) + "." + randomInt(0, 255);
        }

        function generateRandomIPv6(prefix) {
            function randHex() {
                return randomInt(0, 65535).toString(16);
            }

            return prefix + randHex() + ":" + randHex() + ":" + randHex();
        }

        let dns = "";
        if (ip_version === "ipv4") {
            dns = generateRandomIPv4(ipv4Prefix[country]);
        } else if (ip_version === "ipv6") {
            dns = generateRandomIPv6(ipv6Prefix[country]);
        } else if (ip_version === "both") {
            dns = `${generateRandomIPv4(ipv4Prefix[country])}
78.157.42.100
${generateRandomIPv6(ipv6Prefix[country])}
${generateRandomIPv6(ipv6Prefix[country])}`;                     
        }
        return dns;
    }

    // Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªÙˆÙ„ÛŒØ¯ DNS
    document.getElementById("generateDNSButton").addEventListener("click", function () {
        const country = document.getElementById("dnsCountry").value;
        const ip_version = document.getElementById("dnsIpVersion").value;

        const dns = generateRandomDNS(country, ip_version);
        if (!dns.trim()) {
            alert("Ø§Ø·Ù„Ø§Ø¹Ø§Øª DNS Ø¨Ø±Ø§ÛŒ Ú©Ø´ÙˆØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª!");
            return;
        }
        document.getElementById("dnsText").value = dns;
    });

    // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† DNS
    document.getElementById("copyDNSButton").addEventListener("click", function () {
        const dns = document.getElementById("dnsText").value;
        if (!dns.trim()) {
            alert("Ù…ØªÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!");
            return;
        }
        navigator.clipboard.writeText(dns).then(() => {
            alert("DNS Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ù¾ÛŒ Ø´Ø¯!");
        }).catch(err => {
            alert("Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† DNS: " + err);
        });
    });
</script>

</body>
</html>

